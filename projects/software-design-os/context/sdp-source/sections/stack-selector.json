{
  "name": "Stack Selector",
  "route": "/projects/:id/stage/5",
  "parentSection": "Pipeline View",
  "description": "Stage 5 editor. Select or let AI recommend the technology stack. Covers frontend framework, backend, state management, styling, testing, and project structure.",
  "components": [
    {"name": "StackRecommendation", "description": "AI-generated recommendation card explaining why a particular stack suits this project. Includes confidence score and reasoning.", "props": ["recommendation: StackRec"]},
    {"name": "CategoryPicker", "description": "Grouped selection for each stack category: Frontend (React/Next.js/Vue/Svelte), Backend (Hono/Express/FastAPI), Styling (Tailwind/CSS Modules/styled-components), State (Zustand/Redux/Jotai), Testing (Vitest/Jest), ORM (Drizzle/Prisma).", "props": ["categories: Category[]", "selections: Record<string, string>", "onChange"]},
    {"name": "DependencyList", "description": "Generated list of npm/pip packages with version constraints. Editable â€” user can add/remove packages. Shows total bundle size estimate.", "props": ["dependencies: Dependency[]", "onChange"]},
    {"name": "StructurePreview", "description": "Tree view of recommended project folder structure. Expandable folders showing where key files go.", "props": ["structure: FolderTree"]},
    {"name": "DualViewToggle", "description": "Toggle between Visual Picker, package.json preview, and JSON config.", "props": ["mode: visual|packagejson|json"]}
  ],
  "dataRequirements": ["Stage (stageNumber=5)", "Stage 1 data (product type/features)", "Stage 3 data (DB engine)"],
  "interactions": [
    {"trigger": "Generate", "behavior": "AI recommends stack based on product requirements"},
    {"trigger": "Change selection", "behavior": "Update dependencies and structure preview reactively"},
    {"trigger": "Add/remove dependency", "behavior": "Edit dependency list directly"},
    {"trigger": "Toggle structure view", "behavior": "Expand/collapse folders in tree preview"}
  ]
}
